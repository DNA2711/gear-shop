<!DOCTYPE html>
<html>
<head>
    <title>Test Product Images API</title>
</head>
<body>
    <h1>Test Product Images API</h1>
    
    <div>
        <label>Product ID:</label>
        <input type="number" id="productId" value="1">
        <button onclick="testGetImages()">Get Images</button>
        <button onclick="testAddImage()">Add Test Image</button>
    </div>
    
    <div id="result" style="margin-top: 20px; padding: 10px; border: 1px solid #ccc;"></div>

    <script>
        async function testGetImages() {
            const productId = document.getElementById('productId').value;
            try {
                const response = await fetch(`/api/products/${productId}/images`);
                const data = await response.json();
                document.getElementById('result').innerHTML = '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
            } catch (error) {
                document.getElementById('result').innerHTML = 'Error: ' + error.message;
            }
        }

        async function testAddImage() {
            const productId = document.getElementById('productId').value;
            const testImageData = {
                image_code: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzAwNzVmZiIvPgogIDx0ZXh0IHg9IjUwIiB5PSI1NSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE0IiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+VGVzdDwvdGV4dD4KPC9zdmc+',
                image_name: 'test-image.svg',
                is_primary: false,
                display_order: 1
            };

            try {
                const response = await fetch(`/api/products/${productId}/images`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(testImageData)
                });
                
                const data = await response.json();
                document.getElementById('result').innerHTML = '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
            } catch (error) {
                document.getElementById('result').innerHTML = 'Error: ' + error.message;
            }
        }
    </script>
</body>
</html> 